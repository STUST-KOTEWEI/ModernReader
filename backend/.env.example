# ModernReader Backend Environment Variables
# Copy this file to .env and fill in your actual values

# API Configuration
API_HOST=0.0.0.0
API_PORT=8001
PROJECT_NAME=ModernReader

# JWT Authentication
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Database Configuration
DATABASE_URL=sqlite:///./modernreader.db
# For PostgreSQL: postgresql://user:password@localhost:5432/modernreader

# Vector Database
VECTOR_DB_URL=chroma://./vectors

# CARE Compliance
CARE_DATA_RETENTION_DAYS=30

# API Keys (Optional - use for production features)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=
OSS_API_BASE=
OSS_API_KEY=
OSS_TEXT_MODEL=
OSS_VISION_MODEL=
OSS_TRANSCRIBE_MODEL=
LLM_PROVIDER_PRIORITY=

# ===== Google OAuth 設定 =====
# 1. 訪問 https://console.cloud.google.com/apis/credentials
# 2. 建立 OAuth 2.0 Client ID (Web application)
# 3. 複製 Client ID 和 Client Secret  
# 4. Authorized redirect URIs 設定為下方 OAUTH_REDIRECT_URL 的值
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# OAuth Callback URL - 必須與 Google Console 完全一致
# 開發環境範例 (使用 Cloudflare Quick Tunnel):
#   OAUTH_REDIRECT_URL=https://origin-brings-modes-happening.trycloudflare.com/api/v1/auth/oauth/google/callback
# 生產環境範例:
#   OAUTH_REDIRECT_URL=https://modernreader.com/api/v1/auth/oauth/google/callback
OAUTH_REDIRECT_URL=

# 前端重導向 URL (可選，預設為 /login)
# 範例: https://origin-brings-modes-happening.trycloudflare.com/login
FRONTEND_REDIRECT_URL=

# ===== SheerID 設定 (可選，目前尚未實作) =====
SHEERID_CLIENT_ID=
SHEERID_CLIENT_SECRET=

# ===== CORS / Trusted Hosts =====
# 若需要額外的來源/主機，請以逗號分隔
# 預設已包含: localhost, trycloudflare.com, modernreader.com
CORS_ALLOW_ORIGINS=
TRUSTED_HOSTS=

# ===== CAPTCHA (optional for production) =====
# When enabled, backend will verify captcha_token on /auth/signup and /auth/login
# Supported providers: turnstile | recaptcha
CAPTCHA_REQUIRED=false
CAPTCHA_PROVIDER=turnstile
TURNSTILE_SECRET_KEY=
RECAPTCHA_SECRET_KEY=

# ===== Email Verification (optional) =====
# When enabled, unverified users cannot login until they verify via token link.
EMAIL_VERIFICATION_REQUIRED=false
# SMTP settings (optional). If not set, the server will log the verification link instead of sending email.
SMTP_HOST=
SMTP_PORT=
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=
