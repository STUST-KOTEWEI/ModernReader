@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: light dark; }
body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }
.app-shell { display: grid; grid-template-columns: 260px 1fr; min-height: 100vh; background: #f9fafb; }
@media (prefers-color-scheme: dark) {
  .app-shell { background: #111827; }
}
.sidebar { 
  display: flex; 
  flex-direction: column;
  border-right: 1px solid #e5e7eb;
  box-shadow: 2px 0 8px rgba(0,0,0,0.05);
}
@media (prefers-color-scheme: dark) {
  .sidebar { border-right-color: #374151; }
}
.sidebar-link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 16px;
  margin: 0 8px;
  border-radius: 8px;
  color: #4b5563;
  text-decoration: none;
  transition: all 0.2s;
  font-size: 14px;
}
.sidebar-link:hover {
  background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%);
  color: #4f46e5;
  transform: translateX(2px);
}
@media (prefers-color-scheme: dark) {
  .sidebar-link {
    color: #d1d5db;
  }
  .sidebar-link:hover {
    background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
    color: #a5b4fc;
  }
}
.sidebar-icon {
  font-size: 18px;
  min-width: 24px;
  text-align: center;
}
.app-content { 
  padding: 0; 
  background: #ffffff;
  overflow-y: auto;
}
@media (prefers-color-scheme: dark) {
  .app-content { background: #111827; }
}
.dashboard-grid { display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.panel { border: 1px solid #5555; border-radius: 8px; padding: 12px; }
.panel-item { display:flex; flex-direction:column; gap:4px; }
.auth-container { display:grid; place-items:center; min-height:100vh; }
.auth-form { display:flex; flex-direction:column; gap:12px; width: 320px; }
.error-text { color: #f55 }
.catalog-search { display:flex; gap:8px; margin-bottom:12px; }
.catalog-search input { flex:1; padding:6px 8px; }
.catalog-search button { padding:6px 12px; }
.catalog-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:12px; }
.epaper-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:16px; }
.epaper-form { display:flex; flex-direction:column; gap:12px; }
.epaper-form textarea { width:100%; font-family:inherit; }
.epaper-actions { display:flex; gap:8px; }
.card-preview { display:flex; flex-direction:column; gap:12px; max-height:360px; overflow:auto; }
.epaper-card { border:1px dashed #8885; padding:12px; border-radius:6px; background:#f5f5f5; color:#111; }
.epaper-card header { font-weight:600; margin-bottom:6px; }

/* Custom animations for login page */
@keyframes blob {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

.animate-shake {
  animation: shake 0.5s;
}

/* Additional animations for HomePage demo */
@keyframes fade-in {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes gradient {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient 5s ease infinite;
}

/* Demo carousel container */
.demo-carousel {
  min-height: 500px;
}

/* Improve input contrast especially when browser applies autofill styles */
input,
textarea,
select {
  color: #111827; /* text-gray-900 */
}

/* Chrome/Safari autofill fix: force readable text and neutral background */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-text-fill-color: #111827 !important; /* text-gray-900 */
  box-shadow: 0 0 0px 1000px #ffffff inset !important; /* white bg to match cards */
  transition: background-color 9999s ease-in-out 0s; /* prevent flash */
}

@media (prefers-color-scheme: dark) {
  input,
  textarea,
  select {
    color: #e5e7eb; /* text-gray-200 */
  }
  input:-webkit-autofill,
  textarea:-webkit-autofill,
  select:-webkit-autofill {
    -webkit-text-fill-color: #e5e7eb !important;
    box-shadow: 0 0 0px 1000px #1f2937 inset !important; /* gray-800 for dark cards */
  }
}
